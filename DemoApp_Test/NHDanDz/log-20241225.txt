[2024-12-25 00:03:29.971] [WRN] Failed to determine the https port for redirect.
[2024-12-25 00:03:30.080] [INF] Access Login Page
[2024-12-25 00:03:35.748] [WRN] Failed to determine the https port for redirect.
[2024-12-25 00:03:36.435] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 00:03:39.580] [INF] Access Login Page
[2024-12-25 00:03:40.616] [INF] Login successful
[2024-12-25 00:03:40.710] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 00:03:40.733] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 00:03:43.144] [INF] Access Login Page
[2024-12-25 00:04:54.528] [INF] Access Login Page
[2024-12-25 00:04:57.360] [WRN] Login failed for username: adminddddd
[2024-12-25 00:05:36.921] [WRN] Forgot password attempt for non-existent username: daddd
[2024-12-25 00:05:42.477] [WRN] Forgot password attempt for non-existent username: dadada
[2024-12-25 00:05:45.681] [INF] Access Login Page
[2024-12-25 00:05:47.569] [WRN] Login failed for username: admindada
[2024-12-25 00:05:56.324] [INF] Access Login Page
[2024-12-25 00:05:58.672] [INF] Access Login Page
[2024-12-25 00:05:59.349] [INF] Access Login Page
[2024-12-25 00:05:59.518] [INF] Access Login Page
[2024-12-25 00:05:59.700] [INF] Access Login Page
[2024-12-25 00:06:26.950] [INF] Access Login Page
[2024-12-25 00:08:47.675] [INF] Access Login Page
[2024-12-25 00:08:52.145] [INF] Access Login Page
[2024-12-25 00:10:44.966] [INF] Access Login Page
[2024-12-25 00:10:53.636] [INF] Login successful
[2024-12-25 00:10:55.512] [INF] Access Login Page
[2024-12-25 00:12:32.062] [INF] Access Login Page
[2024-12-25 00:12:34.262] [WRN] Login failed for username: adminewew
[2024-12-25 00:16:52.921] [WRN] Failed to determine the https port for redirect.
[2024-12-25 00:16:52.989] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:16:54.494] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 00:19:53.109] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:20:01.648] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:20:54.597] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:28:03.696] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:28:03.704] [INF] Access Login Page
[2024-12-25 00:28:04.726] [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
[2024-12-25 00:28:04.794] [INF] Login successful
[2024-12-25 00:28:04.867] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 00:28:04.888] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 00:28:06.470] [INF] Current user role: Admin
[2024-12-25 00:28:06.760] [INF] Current user role: Admin
[2024-12-25 00:31:43.639] [INF] Access Login Page
[2024-12-25 00:39:56.167] [INF] Access Login Page
[2024-12-25 00:40:00.444] [INF] Login successful
[2024-12-25 00:40:27.234] [INF] Attempting to remove product: SP001     
[2024-12-25 00:40:39.639] [INF] Attempting to remove product: SP014     
[2024-12-25 00:40:44.542] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 00:40:44.556] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 01:13:08.310] [INF] Access Login Page
[2024-12-25 01:13:12.507] [INF] Login successful
[2024-12-25 01:13:15.405] [INF] Current user role: Admin
[2024-12-25 01:13:15.575] [INF] Current user role: Admin
[2024-12-25 07:49:55.448] [INF] Login successful
[2024-12-25 07:56:59.850] [WRN] Failed to determine the https port for redirect.
[2024-12-25 07:57:00.321] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 07:59:25.855] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 07:59:25.926] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:08:17.670] [WRN] Failed to determine the https port for redirect.
[2024-12-25 08:08:18.147] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 08:09:46.264] [WRN] Failed to determine the https port for redirect.
[2024-12-25 08:09:46.797] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 08:11:51.620] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:11:51.709] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:12:45.952] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:12:45.994] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:12:51.371] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:12:51.403] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:15:42.563] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:15:42.601] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:18:31.847] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:18:31.881] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:20:20.221] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:20:20.262] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:20:30.448] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:20:30.481] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:20:30.495] [ERR] Failed executing DbCommand (41ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Size_id0], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [s1].[Size_id] AS [Size_id0], [s1].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Size] AS [s1] ON [s0].[Size_id] = [s1].[Size_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0]
[2024-12-25 08:20:30.506] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:20:30.573] [ERR] Error in UpdateCartInfo: Invalid operation. The connection is closed.
[2024-12-25 08:20:32.385] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:20:32.416] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:20:39.084] [INF] Attempting to remove product: SP001     
[2024-12-25 08:22:48.481] [WRN] Failed to determine the https port for redirect.
[2024-12-25 08:22:48.996] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 08:24:56.475] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:24:56.553] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:25:09.716] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 08:25:09.730] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 08:27:05.641] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 08:27:05.700] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 08:27:16.256] [INF] Attempting to remove product: SP023     
[2024-12-25 08:27:17.095] [INF] Attempting to remove product: SP023     
[2024-12-25 08:34:33.523] [WRN] Failed to determine the https port for redirect.
[2024-12-25 08:34:34.001] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 08:34:50.773] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 08:34:50.788] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 09:44:32.925] [INF] Access Login Page
[2024-12-25 09:44:33.786] [INF] Login successful
[2024-12-25 09:44:33.846] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 09:44:33.864] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 10:49:09.714] [INF] Access Login Page
[2024-12-25 10:49:10.696] [INF] Login successful
[2024-12-25 10:49:12.617] [INF] Access Login Page
[2024-12-25 10:49:13.806] [INF] Login successful
[2024-12-25 10:49:19.272] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 10:49:19.349] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 10:49:21.376] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 10:49:21.403] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 10:50:20.384] [WRN] Failed to determine the https port for redirect.
[2024-12-25 10:50:21.137] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 10:50:29.275] [INF] Access Login Page
[2024-12-25 10:50:30.427] [INF] Login successful
[2024-12-25 10:50:30.486] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 10:50:30.505] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 10:50:33.201] [INF] Access Login Page
[2024-12-25 10:50:37.972] [INF] Access Login Page
[2024-12-25 10:50:39.303] [INF] Login successful
[2024-12-25 10:57:20.746] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 10:57:20.756] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 11:02:49.700] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:03:15.977] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:04:03.845] [WRN] Failed to determine the https port for redirect.
[2024-12-25 11:04:04.324] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 11:11:26.245] [INF] Attempting to remove product: SP001     
[2024-12-25 11:14:53.452] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 11:14:53.476] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:14:53.525] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:15:00.723] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:15:00.762] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:15:02.842] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:15:02.878] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:15:13.996] [INF] Attempting to remove product: SP001     
[2024-12-25 11:15:20.687] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 11:15:20.699] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 11:15:28.104] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:15:28.162] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:17:42.881] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:17:42.945] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:17:44.982] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:17:45.025] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:17:46.668] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:17:46.704] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:17:47.533] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:17:47.575] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:18:32.299] [INF] Attempting to remove product: SP001     
[2024-12-25 11:18:33.342] [INF] Attempting to remove product: SP001     
[2024-12-25 11:22:10.808] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:22:10.868] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:23:33.074] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:23:33.115] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:23:48.979] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:23:49.049] [INF] Product Cappuccino price: 55000
[2024-12-25 11:23:49.050] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:23:49.051] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:23:49.053] [INF] Product Cappuccino price: 55000
[2024-12-25 11:23:49.054] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:24:12.556] [INF] Product Cappuccino price: 55000
[2024-12-25 11:24:12.558] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:24:12.560] [INF] Product Cappuccino price: 55000
[2024-12-25 11:24:12.561] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:25:36.219] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 11:25:36.268] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:36.284] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 11:25:36.285] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:25:36.287] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:36.287] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:25:51.471] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:51.472] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:25:51.473] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:51.473] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:25:51.484] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 11:25:51.531] [INF] Found cart for user admin: True
[2024-12-25 11:25:51.533] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:25:51.533] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 11:25:51.534] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:25:51.535] [INF] Product: Caramel Freeze Phindi, Price: 60000, Size: Size01    
[2024-12-25 11:25:53.882] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:53.883] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:25:53.885] [INF] Found cart for user admin: True
[2024-12-25 11:25:53.885] [INF] Product Cappuccino price: 55000
[2024-12-25 11:25:53.886] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:25:53.887] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:25:53.888] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 11:25:53.889] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:25:53.890] [INF] Product: Caramel Freeze Phindi, Price: 60000, Size: Size01    
[2024-12-25 11:25:53.921] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:26:15.880] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:15.881] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 11:26:15.881] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:15.882] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 11:26:15.884] [INF] Found cart for user admin: True
[2024-12-25 11:26:15.913] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:26:15.913] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:26:15.914] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 11:26:15.915] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:26:15.915] [INF] Product: Caramel Freeze Phindi, Price: 60000, Size: Size01    
[2024-12-25 11:26:42.698] [ERR] Failed executing DbCommand (64ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 11:26:42.711] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 11:26:42.714] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL046   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:24a55a63-9a2e-41fc-a8cc-635607504805
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL046   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:24a55a63-9a2e-41fc-a8cc-635607504805
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 11:26:42.799] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 11:26:49.582] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:49.584] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:56.294] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:56.295] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:56.297] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:56.298] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:57.948] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:57.950] [INF] Product Cappuccino price: 55000
[2024-12-25 11:26:57.978] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:26:57.985] [INF] Found cart for user admin: True
[2024-12-25 11:26:57.987] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 11:26:57.987] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 11:27:11.820] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:11.822] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:11.822] [INF] Found cart for user admin: True
[2024-12-25 11:27:11.823] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 11:27:11.824] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 11:27:11.847] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:27:24.205] [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 11:27:24.210] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL047   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b15b5d7-8e93-45b0-9d3a-027754dafd2f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL047   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b15b5d7-8e93-45b0-9d3a-027754dafd2f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 11:27:24.286] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 11:27:41.309] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:41.329] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:44.971] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:44.972] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:44.973] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:44.974] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.624] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.625] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.625] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.628] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.628] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:46.629] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:47.805] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:47.806] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:47.808] [INF] Product Cappuccino price: 55000
[2024-12-25 11:27:47.837] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 11:27:47.837] [INF] Found cart for user admin: True
[2024-12-25 11:27:47.838] [INF] Product: Cappuccino, Price: 55000, Size: Size03    
[2024-12-25 11:27:47.838] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 11:27:47.839] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 11:27:55.414] [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 11:27:55.419] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL048   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b15b5d7-8e93-45b0-9d3a-027754dafd2f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL048   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b15b5d7-8e93-45b0-9d3a-027754dafd2f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 11:27:55.492] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 13:37:47.896] [ERR] Failed executing DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 13:37:47.901] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL049   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:24a55a63-9a2e-41fc-a8cc-635607504805
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL049   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:24a55a63-9a2e-41fc-a8cc-635607504805
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 13:37:47.965] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 13:57:02.081] [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 13:57:02.086] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL050   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e8f83411-4fba-408e-b185-4904aa303015
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL050   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e8f83411-4fba-408e-b185-4904aa303015
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 13:57:02.171] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 14:00:18.356] [ERR] Failed executing DbCommand (130ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 14:00:18.364] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL051   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e8f83411-4fba-408e-b185-4904aa303015
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL051   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e8f83411-4fba-408e-b185-4904aa303015
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 14:00:18.413] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 14:34:43.854] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 14:34:43.984] [ERR] An error occurred using a transaction.
[2024-12-25 14:34:44.044] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:34:44.339] [ERR] Error in PlaceOrder: The connection does not support MultipleActiveResultSets.
[2024-12-25 14:34:54.546] [ERR] Failed executing DbCommand (863ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 14:34:54.552] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL052   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85c0a957-80fe-4a16-975f-9d978f48ae42
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL052   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85c0a957-80fe-4a16-975f-9d978f48ae42
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 14:34:54.709] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 14:34:59.880] [INF] Access Login Page
[2024-12-25 14:35:00.917] [INF] Login successful
[2024-12-25 14:35:00.965] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 14:35:00.980] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 14:35:06.328] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:06.331] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:11.146] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:11.148] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:11.149] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:11.150] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:12.792] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:12.792] [INF] Product Cappuccino price: 55000
[2024-12-25 14:35:12.842] [INF] Found cart for user admin: True
[2024-12-25 14:35:12.843] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:35:12.843] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 14:35:22.176] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:22.955] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:45.183] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:45.503] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:45.774] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:46.108] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:46.439] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:46.822] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:48.330] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:48.708] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:49.007] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:49.386] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:49.680] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:35:50.191] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:36:41.171] [WRN] Failed to determine the https port for redirect.
[2024-12-25 14:36:41.694] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 14:40:46.902] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:46.902] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:46.907] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:46.907] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:47.782] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 14:40:47.794] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 14:40:51.131] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:51.132] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:51.133] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:51.135] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:51.136] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:51.136] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:53.239] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:53.239] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:53.241] [INF] Product Cappuccino price: 55000
[2024-12-25 14:40:53.272] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 14:40:53.321] [INF] Found cart for user admin: True
[2024-12-25 14:40:53.322] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:40:53.322] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:40:53.323] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 14:41:38.963] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:41:38.963] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:41:53.042] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:41:53.144] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:41:53.297] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:41:53.464] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:48:29.229] [WRN] Failed to determine the https port for redirect.
[2024-12-25 14:48:29.712] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 14:48:59.718] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 14:48:59.735] [INF] Product Cappuccino price: 55000
[2024-12-25 14:48:59.737] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 14:48:59.738] [INF] Product Cappuccino price: 55000
[2024-12-25 14:48:59.785] [INF] Product Cappuccino price: 55000
[2024-12-25 14:48:59.818] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 14:49:01.790] [INF] Product Cappuccino price: 55000
[2024-12-25 14:49:01.791] [INF] Product Cappuccino price: 55000
[2024-12-25 14:49:01.791] [INF] Product Cappuccino price: 55000
[2024-12-25 14:49:01.841] [INF] Found cart for user admin: True
[2024-12-25 14:49:01.844] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:49:01.846] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:49:01.846] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 14:49:42.003] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:49:42.003] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:59:00.365] [WRN] Failed to determine the https port for redirect.
[2024-12-25 14:59:00.851] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 14:59:40.287] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:40.289] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:40.290] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:40.294] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 14:59:40.345] [INF] Found cart for user admin: True
[2024-12-25 14:59:40.347] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:59:40.347] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:59:40.347] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 14:59:47.316] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:59:47.316] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 14:59:53.173] [INF] Access Login Page
[2024-12-25 14:59:54.043] [INF] Login successful
[2024-12-25 14:59:54.087] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 14:59:54.104] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 14:59:57.362] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:57.363] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:57.365] [INF] Product Cappuccino price: 55000
[2024-12-25 14:59:57.366] [INF] Found cart for user admin: True
[2024-12-25 14:59:57.367] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:59:57.367] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 14:59:57.368] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 14:59:57.402] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 15:00:03.116] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:00:03.135] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:00:33.680] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:00:33.701] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:00:46.704] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:00:46.873] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:01:07.936] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:01:08.641] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:01:25.986] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:01:26.289] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:04:55.667] [WRN] Failed to determine the https port for redirect.
[2024-12-25 15:04:56.293] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 15:04:59.908] [INF] Access Login Page
[2024-12-25 15:05:00.851] [INF] Login successful
[2024-12-25 15:05:00.949] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 15:05:00.972] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 15:05:07.552] [INF] Product Cappuccino price: 55000
[2024-12-25 15:05:07.553] [INF] Product Cappuccino price: 55000
[2024-12-25 15:05:07.554] [INF] Product Cappuccino price: 55000
[2024-12-25 15:05:07.561] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 15:05:07.599] [INF] Found cart for user admin: True
[2024-12-25 15:05:07.601] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 15:05:07.602] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 15:05:07.602] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 15:05:12.794] [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:12.806] [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:12.823] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:05:12.823] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:05:12.906] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:05:12.906] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:05:15.474] [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:15.478] [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:15.478] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:05:15.482] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:05:15.523] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:05:15.556] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:05:32.454] [ERR] Failed executing DbCommand (28ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:32.461] [ERR] Failed executing DbCommand (34ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:05:32.461] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:05:32.467] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:06:12.569] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:06:15.002] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:06:31.076] [ERR] Failed executing DbCommand (343ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:06:31.086] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:06:40.854] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:06:46.775] [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:06:46.779] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:06:46.808] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:07:12.012] [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:07:12.017] [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:07:12.017] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:07:12.021] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH001     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:08:14.084] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:08:14.085] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:08:14.097] [INF] Access Login Page
[2024-12-25 15:08:18.790] [INF] Login successful
[2024-12-25 15:08:20.043] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 15:08:20.073] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:20.083] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 15:08:20.098] [INF] Product Freeze Choco price: 60000
[2024-12-25 15:08:20.098] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 15:08:22.086] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:22.087] [INF] Product Caramel Freeze Phindi price: 60000
[2024-12-25 15:08:22.088] [INF] Product Freeze Choco price: 60000
[2024-12-25 15:08:22.113] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 15:08:22.126] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:08:22.127] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:08:22.128] [INF] Product: Caramel Freeze Phindi, Price: 60000, Size: Size01    
[2024-12-25 15:08:22.128] [INF] Product: Freeze Choco, Price: 60000, Size: Size01    
[2024-12-25 15:08:25.185] [INF] Attempting to remove product: SP011     
[2024-12-25 15:08:25.965] [INF] Attempting to remove product: SP013     
[2024-12-25 15:08:32.368] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 15:08:32.380] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 15:08:35.033] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:35.034] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:35.036] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:35.037] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:35.998] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:35.999] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:36.001] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:08:36.002] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size03    
[2024-12-25 15:08:36.008] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:08:36.017] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 15:08:38.142] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:38.143] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:08:38.145] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:08:38.146] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size03    
[2024-12-25 15:08:38.152] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:08:38.160] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 15:08:49.838] [ERR] Failed executing DbCommand (1,531ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:08:49.859] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:08:49.875] [ERR] Failed executing DbCommand (36ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:08:49.908] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:08:49.918] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:08:49.963] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:09:01.680] [ERR] Failed executing DbCommand (434ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:09:01.692] [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:09:01.692] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:09:01.696] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:09:37.742] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:09:38.247] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:11:21.207] [ERR] Failed executing DbCommand (58ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:11:21.213] [ERR] Failed executing DbCommand (62ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:11:21.213] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae115d88-aa8c-4734-8ec3-772729608e23
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:11:21.217] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d369614-6c9e-4f9d-8cd4-13f4f6689f9e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:11:22.225] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:11:42.009] [WRN] Failed to determine the https port for redirect.
[2024-12-25 15:11:42.524] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 15:13:16.313] [INF] Access Login Page
[2024-12-25 15:13:17.626] [INF] Login successful
[2024-12-25 15:13:19.215] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 15:13:19.220] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:13:19.221] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:13:19.231] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 15:13:19.301] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 15:13:21.052] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:13:21.053] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:13:21.103] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:13:21.104] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size03    
[2024-12-25 15:13:21.105] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:13:34.393] [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:13:34.403] [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Client] ([Client_id], [Contact], [Gmail], [Location], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
[2024-12-25 15:13:34.408] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5d7acef1-ae00-449e-93b5-fcd9e0fc81af
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5d7acef1-ae00-449e-93b5-fcd9e0fc81af
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:13:34.409] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9bf6e513-bc82-4ba4-a786-18eeb8e69c4c
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_KhachHang'. Cannot insert duplicate key in object 'dbo.Client'. The duplicate key value is (KH021     ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9bf6e513-bc82-4ba4-a786-18eeb8e69c4c
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:16:10.880] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:16:10.880] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:16:13.677] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:16:13.730] [ERR] Error in PlaceOrder: The instance of entity type 'Product_Bill' cannot be tracked because another instance with the same key value for {'Product_id', 'Bill_id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
[2024-12-25 15:16:38.133] [WRN] Failed to determine the https port for redirect.
[2024-12-25 15:16:38.618] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 15:16:41.942] [INF] Access Login Page
[2024-12-25 15:16:43.034] [INF] Login successful
[2024-12-25 15:16:44.582] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:16:44.585] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:16:44.596] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 15:16:44.650] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:16:44.651] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size03    
[2024-12-25 15:16:44.652] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:24:14.129] [WRN] Failed to determine the https port for redirect.
[2024-12-25 15:24:14.617] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 15:25:16.436] [INF] Access Login Page
[2024-12-25 15:25:17.944] [INF] Login successful
[2024-12-25 15:25:20.711] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 15:25:20.724] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:20.726] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:20.735] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 15:25:20.811] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 15:25:22.476] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 15:25:22.504] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:22.525] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:22.525] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 15:25:23.917] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:23.918] [INF] Product Bạc Xỉu price: 30000
[2024-12-25 15:25:23.964] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:25:23.965] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size03    
[2024-12-25 15:25:23.966] [INF] Product: Bạc Xỉu, Price: 30000, Size: Size01    
[2024-12-25 15:25:27.935] [ERR] Failed executing DbCommand (94ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 15:25:27.952] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL053   ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bef4068d-e91d-4d6f-bc44-6c986f79abf3
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL053   ).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bef4068d-e91d-4d6f-bc44-6c986f79abf3
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:25:27.997] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:25:28.000] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 15:25:39.084] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 15:25:39.093] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2024-12-25 15:25:41.938] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:41.941] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:45.258] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:45.261] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:25:45.263] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 15:25:51.998] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:51.999] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:52.001] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:52.002] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:53.332] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:53.333] [INF] Product Cappuccino price: 55000
[2024-12-25 15:25:53.336] [INF] Found cart for user khnguyenne: True
[2024-12-25 15:25:53.337] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 15:25:53.359] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 15:25:53.365] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 15:25:57.713] [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 15:25:57.718] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL054   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88961a60-7358-46eb-96a5-c6f1778fdfe4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL054   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88961a60-7358-46eb-96a5-c6f1778fdfe4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 15:25:57.760] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 15:26:04.315] [INF] Access Login Page
[2024-12-25 15:26:06.012] [INF] Login successful
[2024-12-25 15:26:06.056] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 15:26:06.069] [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2024-12-25 15:26:13.674] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 21:06:36.119] [INF] Access Login Page
[2024-12-25 21:06:38.480] [INF] Access Login Page
[2024-12-25 21:06:40.141] [INF] Login successful
[2024-12-25 21:06:52.933] [INF] Current user role: Admin
[2024-12-25 21:06:53.160] [INF] Current user role: Admin
[2024-12-25 21:06:53.742] [INF] Current user role: Admin
[2024-12-25 21:06:53.883] [INF] Current user role: Admin
[2024-12-25 21:07:13.161] [INF] Access Login Page
[2024-12-25 21:07:16.134] [INF] Login successful
[2024-12-25 21:07:26.263] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:26.265] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:31.246] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:31.247] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:31.249] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:31.249] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:33.012] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:33.013] [INF] Product Cappuccino price: 55000
[2024-12-25 21:07:33.059] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:07:33.060] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:07:33.060] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:07:38.065] [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bill] ([Bill_id], [Client_id], [Contact], [Date], [DeleteStatus], [Location], [OrderNotes], [PaymentMethod], [PaymentStatus], [ProcessDate], [Status], [Total])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2024-12-25 21:07:38.070] [ERR] An exception occurred in the database while saving changes for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL055   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_HoaDon'. Cannot insert duplicate key in object 'dbo.Bill'. The duplicate key value is (BILL055   ).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2024-12-25 21:07:38.123] [ERR] Error in PlaceOrder: An error occurred while saving the entity changes. See the inner exception for details.
[2024-12-25 21:13:45.915] [INF] Product Cappuccino price: 55000
[2024-12-25 21:13:45.919] [INF] Product Cappuccino price: 55000
[2024-12-25 21:13:47.640] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:13:47.672] [INF] Product Cappuccino price: 55000
[2024-12-25 21:13:47.687] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 21:13:49.688] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:13:49.708] [INF] Product Cappuccino price: 55000
[2024-12-25 21:13:49.723] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 21:13:50.612] [INF] Product Cappuccino price: 55000
[2024-12-25 21:13:50.634] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:13:50.661] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:13:50.663] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:16:57.127] [INF] Product Cappuccino price: 55000
[2024-12-25 21:16:57.128] [INF] Product Cappuccino price: 55000
[2024-12-25 21:16:57.130] [INF] Product Cappuccino price: 55000
[2024-12-25 21:16:57.131] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.494] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.494] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.495] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.497] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.498] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:02.499] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:03.567] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:17:03.569] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:03.571] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:03.571] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:03.636] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 21:17:05.656] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:17:05.657] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:05.659] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:05.660] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:05.703] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 21:17:06.600] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:06.601] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:06.603] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:06.624] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:06.625] [ERR] Failed executing DbCommand (25ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:06.630] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:06.674] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:07.482] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:07.485] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:07.486] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:07.486] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:07.506] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:07.508] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:07.555] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:08.407] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.408] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.410] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.411] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:08.427] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:08.429] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:08.468] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:08.712] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.714] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.716] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:08.717] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:08.736] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:08.737] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:08.780] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:09.978] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:09.979] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:09.981] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:09.982] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:10.000] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:10.002] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:10.031] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:11.384] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:11.385] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:11.387] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:11.398] [ERR] Failed executing DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:11.407] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:11.410] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:11.445] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:14.945] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:14.946] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:14.948] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:14.959] [ERR] Failed executing DbCommand (14ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:14.968] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:14.971] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:15.008] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:18.251] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:18.252] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:18.254] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:18.255] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:18.273] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:18.274] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:18.304] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:20.015] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.016] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.018] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.019] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:20.037] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:20.038] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:20.074] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:20.276] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.278] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.279] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.290] [ERR] Failed executing DbCommand (14ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:20.299] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:20.301] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:20.341] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:20.557] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.559] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.561] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.562] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:20.583] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:20.584] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:20.627] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:20.845] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.845] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.848] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:20.849] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:20.868] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:20.870] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:20.915] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:21.892] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:21.893] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:21.895] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:21.896] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:21.912] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:21.913] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:21.941] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:22.727] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:22.728] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:22.730] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:22.731] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:22.750] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:22.751] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:22.790] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:23.033] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:23.034] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:23.037] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:23.038] [ERR] Failed executing DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:23.057] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:23.058] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:23.102] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:27.677] [INF] Access Login Page
[2024-12-25 21:17:29.170] [INF] Login successful
[2024-12-25 21:17:30.751] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:30.752] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:30.754] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:30.765] [ERR] Failed executing DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:30.773] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:30.776] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:30.813] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:33.880] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:33.882] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:33.884] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:33.884] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:33.901] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:33.902] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:33.937] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:35.457] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.458] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.459] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.468] [ERR] Failed executing DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:35.475] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:35.478] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:35.515] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:35.745] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.747] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.749] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:35.752] [ERR] Failed executing DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:35.770] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:35.772] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:35.817] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:36.046] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.047] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.050] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.051] [ERR] Failed executing DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:36.071] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:36.073] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:36.115] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:36.336] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.337] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.339] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:36.359] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:36.359] [ERR] Failed executing DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:36.363] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:36.405] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:43.560] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:43.560] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:43.562] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:43.564] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:43.576] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:43.578] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:43.614] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:45.773] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:45.774] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:45.776] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:45.777] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:45.793] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:45.794] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:45.825] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:46.580] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.581] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.583] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.585] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:46.600] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:46.601] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:46.635] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:46.894] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.896] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.898] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:46.909] [ERR] Failed executing DbCommand (14ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:46.919] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:46.922] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:17:46.988] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:47.180] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:47.182] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:47.185] [INF] Product Cappuccino price: 55000
[2024-12-25 21:17:47.186] [ERR] Failed executing DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:17:47.206] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:17:47.208] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:17:47.252] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:17:52.003] [INF] Access Login Page
[2024-12-25 21:17:53.821] [INF] Login successful
[2024-12-25 21:17:55.342] [INF] Current user role: Admin
[2024-12-25 21:17:55.525] [INF] Current user role: Admin
[2024-12-25 21:21:56.115] [INF] Access Login Page
[2024-12-25 21:21:58.094] [INF] Login successful
[2024-12-25 21:22:00.334] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:00.335] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:00.336] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:00.354] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:00.355] [ERR] Failed executing DbCommand (20ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:00.358] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:22:00.394] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:02.101] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:02.108] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:02.110] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:02.110] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:02.122] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:22:02.139] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:02.172] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:03.126] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.128] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.130] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.130] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:03.147] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:03.148] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:22:03.183] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:03.808] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:22:03.808] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.812] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.812] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:03.856] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
[2024-12-25 21:22:04.359] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.360] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.362] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.362] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:04.377] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:04.379] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:22:04.426] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:04.852] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.853] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.855] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:04.856] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:04.876] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:04.877] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:22:04.921] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:06.301] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:06.303] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:06.304] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:06.305] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:06.317] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:06.319] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:22:06.351] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:11.195] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:11.198] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:11.200] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:11.200] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:11.217] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:11.218] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e86a3bf-4c69-4c83-8fca-f369c8183c39
Error Number:207,State:1,Class:16
[2024-12-25 21:22:11.254] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:16.011] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:16.013] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:16.015] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:16.016] [ERR] Failed executing DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:22:16.032] [ERR] Error in UpdateCartInfo: A root ambient transaction was completed before the nested transaction. The nested transactions should be completed first.
[2024-12-25 21:22:16.033] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:22:16.065] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:22:51.946] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:52.674] [INF] Product Cappuccino price: 55000
[2024-12-25 21:22:52.681] [INF] Product Cappuccino price: 55000
[2024-12-25 21:23:05.545] [ERR] Failed executing DbCommand (15ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:23:05.548] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2d1e8489-dbdf-4b99-87f1-0c0d51fc115b
Error Number:207,State:1,Class:16
[2024-12-25 21:23:05.963] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:25:51.315] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:25:51.315] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:51.315] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:25:51.319] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:51.339] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:51.346] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:51.861] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:51.869] [INF] Product Cappuccino price: 55000
[2024-12-25 21:25:52.022] [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.)
 ---> System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DemoApp_Test.Controllers.CartController.GetCartFromDatabase(String username)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at DemoApp_Test.Controllers.CartController.ShoppingCarts()
   at lambda_method2550(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2024-12-25 21:25:52.022] [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.)
 ---> System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DemoApp_Test.Controllers.CartController.GetCartFromDatabase(String username)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at DemoApp_Test.Controllers.CartController.ShoppingCarts()
   at lambda_method2550(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2024-12-25 21:26:27.564] [WRN] Failed to determine the https port for redirect.
[2024-12-25 21:26:28.181] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 21:28:14.869] [INF] Product Cappuccino price: 55000
[2024-12-25 21:28:14.871] [INF] Product Cappuccino price: 55000
[2024-12-25 21:28:14.871] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:28:14.871] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:17.037] [WRN] Failed to determine the https port for redirect.
[2024-12-25 21:30:17.586] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 21:30:22.372] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.373] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.373] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.377] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.378] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.378] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:22.410] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 21:30:22.430] [ERR] Failed executing DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:22.459] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:22.519] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:24.791] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.792] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.792] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.795] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.795] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.796] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:24.801] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:24.805] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:24.851] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:31.519] [INF] Access Login Page
[2024-12-25 21:30:34.039] [INF] Login successful
[2024-12-25 21:30:35.321] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.323] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.324] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.326] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.327] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.327] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:35.333] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:35.337] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:35.379] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:37.042] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.043] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.043] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.045] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.046] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.047] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:37.052] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:37.055] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:37.093] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:40.070] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.070] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.071] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.073] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.074] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.075] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:40.080] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:40.083] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:40.118] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:43.769] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.769] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.770] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.772] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.773] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.773] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:43.778] [ERR] Failed executing DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:30:43.781] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:30:43.818] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:30:53.183] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:53.193] [INF] Product Cappuccino price: 55000
[2024-12-25 21:30:53.194] [INF] Product Cappuccino price: 55000
[2024-12-25 21:31:03.628] [INF] Product Cappuccino price: 55000
[2024-12-25 21:31:03.637] [INF] Product Cappuccino price: 55000
[2024-12-25 21:31:03.638] [INF] Product Cappuccino price: 55000
[2024-12-25 21:31:30.472] [ERR] Failed executing DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:31:30.475] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:31:30.506] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:32:02.956] [INF] Product Cappuccino price: 55000
[2024-12-25 21:32:02.956] [INF] Product Cappuccino price: 55000
[2024-12-25 21:32:02.957] [INF] Product Cappuccino price: 55000
[2024-12-25 21:32:05.228] [INF] Product Cappuccino price: 55000
[2024-12-25 21:32:05.236] [INF] Product Cappuccino price: 55000
[2024-12-25 21:32:05.237] [INF] Product Cappuccino price: 55000
[2024-12-25 21:34:22.206] [ERR] Failed executing DbCommand (23ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:34:22.209] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:34:22.242] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:34:42.398] [INF] Product Cappuccino price: 55000
[2024-12-25 21:34:42.399] [INF] Product Cappuccino price: 55000
[2024-12-25 21:34:42.399] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:01.789] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:01.801] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:01.805] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.481] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.507] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.589] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.754] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.776] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:06.823] [INF] Product Cappuccino price: 55000
[2024-12-25 21:38:32.077] [ERR] Failed executing DbCommand (858ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:38:35.190] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:38:35.432] [ERR] Failed executing DbCommand (42ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:38:39.569] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:38:39.572] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56b14b6-57b0-4c63-8618-c5e14bf69778
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56b14b6-57b0-4c63-8618-c5e14bf69778
Error Number:207,State:1,Class:16
[2024-12-25 21:38:41.094] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:39:28.458] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:28.458] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:28.459] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:28.461] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:28.462] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:28.462] [INF] Product Cappuccino price: 55000
[2024-12-25 21:39:35.694] [ERR] Failed executing DbCommand (21ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:39:35.696] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56b14b6-57b0-4c63-8618-c5e14bf69778
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56b14b6-57b0-4c63-8618-c5e14bf69778
Error Number:207,State:1,Class:16
[2024-12-25 21:40:22.173] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:40:26.869] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:26.870] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:26.871] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:26.873] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:26.873] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:26.874] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:30.189] [ERR] Failed executing DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:40:30.192] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:40:31.045] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:40:38.091] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:38.092] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:38.092] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:38.094] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:38.095] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:38.096] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:42.765] [ERR] Failed executing DbCommand (27ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Cart_id], [t].[CreatedDate], [t].[LastModifiedDate], [t].[Username], [t0].[CartItem_id], [t0].[AddedDate], [t0].[Cart_id], [t0].[Discount], [t0].[Ice_id], [t0].[Product_id], [t0].[Quantity], [t0].[Size_id], [t0].[Sugar_id], [t0].[Product_id0], [t0].[Brand_id], [t0].[Date], [t0].[Description], [t0].[Discount0], [t0].[Image], [t0].[Price], [t0].[ProductName], [t0].[Rating], [t0].[ReviewCount], [t0].[Status], [t0].[Type_id], [t0].[Brand_id0], [t0].[BrandName], [t0].[BusinessLicense], [t0].[Description0], [t0].[Email], [t0].[FoundingDate], [t0].[Location], [t0].[Logo], [t0].[PhoneNumber], [t0].[RegisterDate], [t0].[Status0], [t0].[TaxNumber], [t0].[Type_id0], [t0].[TypeName], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1], [t0].[Product_id1], [t0].[Price0], [t0].[IceDetail], [t0].[SugarDetail], [t0].[SizeDetail]
FROM (
    SELECT TOP(1) [s].[Cart_id], [s].[CreatedDate], [s].[LastModifiedDate], [s].[Username]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Username] = @__username_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[CartItem_id], [s0].[AddedDate], [s0].[Cart_id], [s0].[Discount], [s0].[Ice_id], [s0].[Product_id], [s0].[Quantity], [s0].[Size_id], [s0].[Sugar_id], [p].[Product_id] AS [Product_id0], [p].[Brand_id], [p].[Date], [p].[Description], [p].[Discount] AS [Discount0], [p].[Image], [p].[Price], [p].[ProductName], [p].[Rating], [p].[ReviewCount], [p].[Status], [p].[Type_id], [b].[Brand_id] AS [Brand_id0], [b].[BrandName], [b].[BusinessLicense], [b].[Description] AS [Description0], [b].[Email], [b].[FoundingDate], [b].[Location], [b].[Logo], [b].[PhoneNumber], [b].[RegisterDate], [b].[Status] AS [Status0], [b].[TaxNumber], [t1].[Type_id] AS [Type_id0], [t1].[TypeName], [i].[Ice_id] AS [Ice_id0], [s1].[Sugar_id] AS [Sugar_id0], [s2].[Size_id] AS [Size_id0], [p0].[Size_id] AS [Size_id1], [p0].[Product_id] AS [Product_id1], [p0].[Price] AS [Price0], [i].[IceDetail], [s1].[SugarDetail], [s2].[SizeDetail]
    FROM [ShoppingCartItem] AS [s0]
    INNER JOIN [Product] AS [p] ON [s0].[Product_id] = [p].[Product_id]
    INNER JOIN [Brand] AS [b] ON [p].[Brand_id] = [b].[Brand_id]
    INNER JOIN [TypeCoffee] AS [t1] ON [p].[Type_id] = [t1].[Type_id]
    INNER JOIN [Ice] AS [i] ON [s0].[Ice_id] = [i].[Ice_id]
    INNER JOIN [Sugar] AS [s1] ON [s0].[Sugar_id] = [s1].[Sugar_id]
    INNER JOIN [Size] AS [s2] ON [s0].[Size_id] = [s2].[Size_id]
    LEFT JOIN [Product_Size] AS [p0] ON [p].[Product_id] = [p0].[Product_id]
) AS [t0] ON [t].[Cart_id] = [t0].[Cart_id]
ORDER BY [t].[Cart_id], [t0].[CartItem_id], [t0].[Product_id0], [t0].[Brand_id0], [t0].[Type_id0], [t0].[Ice_id0], [t0].[Sugar_id0], [t0].[Size_id0], [t0].[Size_id1]
[2024-12-25 21:40:42.768] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Price'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bcd8a698-0413-4e27-989a-5df51f6f1cab
Error Number:207,State:1,Class:16
[2024-12-25 21:40:52.973] [ERR] Error in ShoppingCartViewComponent.InvokeAsync: Invalid column name 'Price'.
[2024-12-25 21:40:57.938] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:57.939] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:57.939] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:57.942] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:57.942] [INF] Product Cappuccino price: 55000
[2024-12-25 21:40:57.942] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:00.720] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:41:00.722] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:00.722] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:00.723] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:41:06.214] [WRN] Unable to configure Browser Link script injection on the response. 
[2024-12-25 21:41:06.215] [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[2024-12-25 21:41:10.138] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:10.139] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:10.140] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:10.142] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:10.143] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:10.144] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:12.645] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:41:12.645] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:12.646] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:12.647] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:41:12.731] [WRN] Unable to configure Browser Link script injection on the response. 
[2024-12-25 21:41:12.732] [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[2024-12-25 21:41:20.741] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:20.741] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:20.742] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:20.744] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:20.745] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:20.745] [INF] Product Cappuccino price: 55000
[2024-12-25 21:41:22.296] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:41:22.296] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:22.297] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:41:22.297] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:41:22.434] [WRN] Unable to configure Browser Link script injection on the response. 
[2024-12-25 21:41:22.438] [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page.
[2024-12-25 21:47:37.495] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:37.496] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:37.496] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:37.498] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:37.499] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:37.499] [INF] Product Cappuccino price: 55000
[2024-12-25 21:47:43.701] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:47:43.702] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:47:43.702] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:47:43.703] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:48:20.932] [WRN] Failed to determine the https port for redirect.
[2024-12-25 21:48:22.794] [WRN] The foreign key property 'Shipping.Bill_id1' was created in shadow state because a conflicting property with the simple name 'Bill_id' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
[2024-12-25 21:48:32.658] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.659] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.660] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.664] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.665] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.665] [INF] Product Cappuccino price: 55000
[2024-12-25 21:48:32.692] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2024-12-25 21:48:32.747] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:48:32.749] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:48:32.750] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:48:32.751] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:49:00.509] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.510] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.510] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.513] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.514] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.514] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:00.568] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:49:00.569] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:49:00.570] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:49:00.571] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:49:16.905] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.906] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.906] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.909] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.910] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.911] [INF] Product Cappuccino price: 55000
[2024-12-25 21:49:16.918] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:49:16.918] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:49:16.919] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:49:16.920] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:50:11.574] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.576] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.576] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.580] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.580] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.581] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:11.637] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:50:11.639] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:11.639] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:11.640] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:50:19.458] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.458] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.460] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.463] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.464] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.465] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:19.469] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:50:19.469] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:19.470] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:19.471] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:50:22.561] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.562] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.563] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.567] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.568] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.569] [INF] Product Cappuccino price: 55000
[2024-12-25 21:50:22.575] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:50:22.576] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:22.577] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:50:22.578] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:51:02.319] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.320] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.320] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.323] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.323] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.324] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:02.378] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:51:02.379] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:02.380] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:02.380] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:51:17.334] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.335] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.335] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.339] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.340] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.340] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:17.403] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:51:17.404] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:17.405] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:17.406] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:51:33.360] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.361] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.361] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.365] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.365] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.366] [INF] Product Cappuccino price: 55000
[2024-12-25 21:51:33.410] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:51:33.410] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:33.412] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:51:33.413] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:51:53.591] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:51:53.591] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:51:53.641] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:51:53.641] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:51:58.781] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:51:58.782] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:51:58.814] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:51:58.841] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:52:03.337] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.337] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.338] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.342] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.343] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.343] [INF] Product Cappuccino price: 55000
[2024-12-25 21:52:03.350] [INF] Found cart for user khnguyenne: True
[2024-12-25 21:52:03.350] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:52:03.351] [INF] Product: Cappuccino, Price: 55000, Size: Size01    
[2024-12-25 21:52:03.351] [INF] Product: Cappuccino, Price: 55000, Size: Size02    
[2024-12-25 21:52:07.156] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:52:07.156] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:52:07.189] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:52:07.242] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:52:15.552] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:52:15.552] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:52:15.585] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:52:15.616] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:54:44.100] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:54:44.111] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:54:44.483] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:59:50.145] [ERR] Error in PlaceOrder: Data is Null. This method or property cannot be called on Null values.
[2024-12-25 21:59:51.240] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:59:51.240] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:59:51.240] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:59:51.240] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:59:51.264] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 21:59:51.285] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 21:59:51.308] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 21:59:51.331] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 21:59:59.985] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 21:59:59.985] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 22:00:00.004] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 22:00:00.023] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 22:00:32.103] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 22:00:32.103] [ERR] An exception occurred while iterating over the results of a query for context type 'DemoApp_Test.Repository.DataContext'.
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at lambda_method703(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2024-12-25 22:00:58.121] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
[2024-12-25 22:12:34.129] [ERR] Error in PlaceOrder: Unable to cast object of type 'System.String' to type 'System.Double'.
